{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container-fluid well span6\"\n};\nconst _hoisted_2 = {\n  class: \"row-fluid\"\n};\nconst _hoisted_3 = {\n  class: \"span2\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"span8\"\n};\nconst _hoisted_6 = {\n  title: \"username\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"text-right fw-bold fs-3\"\n};\n\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"button\", null, \"Modifier profile\", -1\n/* HOISTED */\n);\n\nconst _hoisted_9 = [_hoisted_8];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n    src: $props.avatar,\n    class: \"img-circle\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_4)]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"h3\", _hoisted_6, _toDisplayString($props.username), 1\n  /* TEXT */\n  ), _createElementVNode(\"h6\", null, \"Membre depuis le \" + _toDisplayString(new Date($props.createdAt).toLocaleString(\"fr-FR\", {\n    timeZone: \"UTC\"\n  })), 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", null, _toDisplayString($props.publications.length) + \" publications \", 1\n  /* TEXT */\n  ), _createElementVNode(\"p\", null, _toDisplayString($props.comments.length) + \" commentaires \", 1\n  /* TEXT */\n  )])])]), _createElementVNode(\"div\", null, [_createVNode(_component_router_link, {\n    to: {\n      name: 'ModifyUser',\n      params: {\n        id: $props.id\n      }\n    }\n  }, {\n    default: _withCtx(() => [this.id == $data.userid || $data.admin == `true` ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, _hoisted_9)) : _createCommentVNode(\"v-if\", true)]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"to\"]), this.id == $data.userid || $data.admin == `true` ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    class: \"text-right fw-bold fs-3\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.deleteUser && $options.deleteUser(...args), [\"prevent\"]))\n  }, \"Supprimer profile\")) : _createCommentVNode(\"v-if\", true)])], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;EAEOA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;EACJA,KAAK,EAAC;;;;EAINA,KAAK,EAAC;;;EACLC,KAAK,EAAC;;;;EAqBmCD,KAAK,EAAC;;;gCAA2BE,oBAAiC,QAAjC,EAAiC,IAAjC,EAAQ,kBAAR,EAAwB;AAAA;AAAxB;;oBAAAC;;;;6DA5BpFD,oBAuBM,KAvBN,cAuBM,CAtBJA,oBAqBM,KArBN,cAqBM,CApBJA,oBAEM,KAFN,cAEM,CADJA,oBAAsC,KAAtC,EAAsC;IAAhCE,GAAG,EAAEC,aAA2B;IAAnBL,KAAK,EAAC;EAAa,CAAtC;;EAAA,aACI,CAFN,CAoBI,EAhBJE,oBAaM,KAbN,cAaM,CAZJA,oBAAwC,IAAxC,cAAwCI,iBAAhBD,eAAgB,CAAxC,EAAgC;EAAA;EAAhC,CAYI,EAXJH,oBAIO,IAJP,EAIO,IAJP,EAAI,sBAAiBI,qBAAoBC,IAApB,CAAyBF,gBAAzB,EAAoCG,cAApC,CAAkD,OAAlD,EAAkD;;EAAA,CAAlD,EAArB;;EAAA,CAWI,EANJN,oBAEI,GAFJ,EAEI,IAFJ,EAEII,iBADCD,oBAAaI,MACd,IADuB,gBAD3B,EAEA;EAAA;EAFA,CAMI,EAHJP,oBAEI,GAFJ,EAEI,IAFJ,EAEII,iBADCD,gBAASI,MACV,IADmB,gBADvB,EAEA;EAAA;EAFA,CAGI,CAbN,CAgBI,CArBN,CAsBI,CAvBN,GAwBAP,oBAUM,KAVN,EAUM,IAVN,EAUM,CAPJQ,aAGcC,sBAHd,EAGc;IAHAC,EAAE;MAAAC;MAAAC;QAAAC,IAAkCV;MAAlC;IAAA;EAGF,CAHd;sBACE,MACI,MADUU,MAAMC,gBAAUA,eAAK,wBAAnCC,oBACI,GADJ,cACIC,UADJ,sCACI;;;;GAFN;;EAAA,SAOI,OAFeH,MAAMC,gBAAUA,eAAK,wBAAxCC,oBACwD,QADxD,EACwD;UAAA;IADJjB,KAAK,EAAC,yBACF;IAArDmB,OAAK,wDAAUC,mDAAV,EAAoB,WAApB;EAAgD,CADxD,EAC8B,mBAD9B,sCAEI,CAVN","names":["class","title","_createElementVNode","_hoisted_8","src","$props","_toDisplayString","Date","toLocaleString","length","_createVNode","_component_router_link","to","name","params","id","$data","_createElementBlock","_hoisted_9","onClick","$options"],"sourceRoot":"","sources":["D:\\Code\\Projet 7\\p7-groupomania\\P7-Groupomania\\frontend\\src\\components\\UserSingleTemplate.vue"],"sourcesContent":["<template>\r\n\r\n  <div class=\"container-fluid well span6\">\r\n    <div class=\"row-fluid\">\r\n      <div class=\"span2\">\r\n        <img :src=\"avatar\" class=\"img-circle\">\r\n      </div>\r\n\r\n      <div class=\"span8\">\r\n        <h3 title=\"username\">{{ username }}</h3>\r\n        <h6>Membre depuis le {{ new\r\n            Date(createdAt).toLocaleString(\"fr-FR\", {\r\n              timeZone: \"UTC\"\r\n            })\r\n        }}</h6>\r\n        <p>\r\n          {{ publications.length }} publications\r\n        </p>\r\n        <p>\r\n          {{ comments.length }} commentaires\r\n        </p>\r\n      </div>\r\n\r\n\r\n    </div>\r\n  </div>\r\n  <div>\r\n\r\n\r\n    <router-link :to=\"{ name: 'ModifyUser', params: { id } }\">\r\n      <p v-if=\"this.id == userid || admin == `true`\" class=\"text-right fw-bold fs-3 \"><button>Modifier profile</button>\r\n      </p>\r\n    </router-link>\r\n\r\n    <button v-if=\"this.id == userid || admin == `true`\" class=\"text-right fw-bold fs-3\"\r\n      @click.prevent=\"deleteUser\">Supprimer profile</button>\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"SingleUser\",\r\n  data() {\r\n    return {\r\n      userid: sessionStorage.getItem(\"userId\"),\r\n      admin: sessionStorage.getItem(\"isAdmin\")\r\n    }\r\n  },\r\n  props: ['username', 'id', 'createdAt', 'comments', 'publications', 'avatar'],\r\n  methods: {\r\n    deleteUser() {\r\n      const userId = this.$route.params.id;\r\n      fetch('http://localhost:3000/api/users/' + userId, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'Authorization': \"Bearer \" + sessionStorage.getItem(\"Token\")\r\n        },\r\n\r\n      })\r\n        .then(() =>\r\n          document.location.href = `http://localhost:8080/publications`)\r\n    }\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n</script>\r\n\r\n\r\n<style scoped>\r\n</style>"]},"metadata":{},"sourceType":"module"}